"use strict";!function(){Vue.filter("i18n",function(e){return infinity.i18n(e)}),Vue.filter("toUpperCase",function(e){return function(e){e=e.toLowerCase();return e.replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()})}(e)});var i={data:{clean_item:infinity.get("clean-master").clean_item,clean_time:infinity.get("clean-master").clean_time,clean_tabs:infinity.get("clean-master").clean_tabs},get:function(e){return this.data[e]},set:function(){infinity.set("clean-master",this.data)},setting:function(e,t){this.data[e]=t}};Vue.component("clean-content",{template:"#J-clean-content-template",props:{cleanitem:{type:Object}},data:function(){return{prompt:!1}},methods:{handleChange:function(){this.cleanitem.isClean||-1===["passwords","formData","cookies"].indexOf(this.cleanitem.name)?(this.cleanitem.isClean=!this.cleanitem.isClean,infinity.sendMessage("deleteData",{name:this.cleanitem.name,status:this.cleanitem.isClean}),i.set(),this.$emit("changeCleanItem")):this.prompt=!0},handleSure:function(e){this.prompt=!1,1==e&&(this.cleanitem.isClean=!this.cleanitem.isClean,infinity.sendMessage("deleteData",{name:this.cleanitem.name,status:this.cleanitem.isClean}),i.set(),this.$emit("changeCleanItem"))}}}),Vue.component("clean-tabs",{template:"#J-clean-tabs-template",data:function(){return{clean_tabs:i.get("clean_tabs")}},methods:{changeTabs:function(e){this.clean_tabs[e]=!this.clean_tabs[e],i.set()}}}),Vue.component("clean-hint",{template:"#J-clean-hint-template",props:{names:{type:String},isShow:{type:Boolean}},data:function(){return{isSure:!1}},methods:{handleClick:function(e){this.$emit("sureClean",e)}}}),Vue.component("clean-auto",{template:"#J-clean-auto-template",data:function(){var e=infinity.get("clean_auto"),t=infinity.get("open_auto");return"boolean"!=typeof e&&(infinity.set("clean_auto",!1),e=!1),"boolean"!=typeof t&&(infinity.set("open_auto",!1),t=!1),{claen_auto:e,open_auto:t}},methods:{changeAuto:function(e){"auto"==e?(this.claen_auto=!this.claen_auto,infinity.set("clean_auto",this.claen_auto)):(this.open_auto=!this.open_auto,infinity.set("open_auto",this.open_auto))},gotosetting:function(){"Chrome"==infinity.browser&&chrome.tabs.create({url:"chrome://settings/syncSetup"})}}}),Vue.component("donate",{template:"#J-donate-template",data:function(){return{picked:1,isZh:infinity.isZh(),donatePri:{donateSymbol:"$",donateNumber:[5,10,20]},payMach:!1,contentSrc:"",titleSrc:""}},created:function(){this.isZh&&(this.picked=2,this.donatePri.donateSymbol="ï¿¥",this.donatePri.donateNumber=[5,10,20])},methods:{payMoney:function(e){var t="";if(e="Customize"==e?"c":e,1!=this.picked){if(2==this.picked||3==this.picked){if(2==this.picked){this.titleSrc="https://best-extension.infinitynewtab.com/tab-master/lib/img/donate/icon-alipay.svg";var n="AliPay"}else{this.titleSrc="https://best-extension.infinitynewtab.com/tab-master/lib/img/donate/icon-wepay.svg";n="WePay"}return this.contentSrc="https://best-extension.infinitynewtab.com/tab-master/lib/img/donate/"+n+"-"+e+".png",void(this.payMach=!0)}return""}(t="https://www.paypal.me/infinitynewtab/"+e)&&window.open(t,"donate")},payMachBack:function(){this.payMach=!1}}}),Vue.component("grade",{template:"#J-grade-template",props:{jumpUrl:{type:Object}},data:function(){return{feedback:""}},methods:{grade:function(e){var t="";if("wuXingHaoPing"==e){var n=infinity.id;t="Chrome"==infinity.browser?"https://chrome.google.com/webstore/detail/"+n+"/reviews?utm_source=chrome-ntp-icon":"https://addons.mozilla.org/zh-CN/firefox/addon/"+n+"/"}else t=infinity.isZh()?"http://infinity.mikecrm.com/XMqLgVV":"http://sv.mikecrm.com/Nc7XYr8";window.open(t,"grade")}}}),Vue.component("share",{template:"#J-share-template",data:function(){return{feedback:"",wechat:!1,qrcode:""}},mounted:function(){this.qrcode=new QRCode(this.$refs.qrcode,"http://www.baidu.com")},methods:{jumpShare:function(e){var t=infinity.id,n="https://chrome.google.com/webstore/detail/"+t,i=infinity.i18n("apptitle");"Chrome"!==infinity.browser&&(i=infinity.i18n("CleanMaster"),n="https://addons.mozilla.org/firefox/addon/"+t);var a=infinity.i18n("appdsc");"facebook"==e?window.open("https://www.facebook.com/sharer/sharer.php?u="+n,"facebook"):"twitter"==e?window.open("https://twitter.com/intent/tweet?text="+i+": "+a+"&url="+n,"tt"):"wechat"==e?this.wechat=!this.wechat:"weibo"==e?window.open("http://service.weibo.com/share/share.php?title="+i+": "+a+"&url="+n+"&pic=","weibo"):"google"==e?window.open("https://plus.google.com/share?url="+n,"google"):"qzone"==e&&window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+n+"&title="+i+": "+a+"&desc="+i+": "+a+"&summary="+i+": "+a+"&site="+i+": "+a,"qzone")},enterWe:function(){if("Chrome"==infinity.browser)var e="https://chrome.google.com/webstore/detail/";else e="https://addons.mozilla.org/firefox/addon/";var t=e+infinity.id;this.qrcode.makeCode(t),this.wechat=!this.wechat},leaveWe:function(){this.qrcode.clear(),this.wechat=!this.wechat}}}),Vue.component("feedback",{template:"#J-feedback-template"}),Vue.component("about-us",{template:"#J-about-us-template",props:{jumpUrl:{type:Object}},methods:{aboutUs:function(e){var t="";t="about"!=e?"https://best-extension.infinitynewtab.com/clean-master/page/"+e+".html?name=Clean Master":infinity.isZh()?"http://infinity.mikecrm.com/XMqLgVV":"http://sv.mikecrm.com/Nc7XYr8",window.open(t,"about")}}});new Vue({el:"#J-option",template:"#J-option-template",data:{cleanImg:"icon-cleaning.svg",cleanimgRotate:!0,cleaning:!1,cleanText:"clean",cleanOnclick:!0,taggle:!1,cleanTime:i.get("clean_time"),cleanTimeContent:"lastHour",cleanContent:i.get("clean_item"),jumpUrl:{donate:"",grade:"",share:"",aboutUs:""}},created:function(){"Last Hour"==this.cleanTime?this.cleanTimeContent="lastHour":"Last Day"==this.cleanTime?this.cleanTimeContent="lastDay":"Last Week"==this.cleanTime?this.cleanTimeContent="lastWeek":"Last Month"==this.cleanTime?this.cleanTimeContent="lastMonth":"Everything"==this.cleanTime&&(this.cleanTimeContent="Everything")},methods:{bodyClick:function(){this.taggle=!1},selectTime:function(){this.taggle=!this.taggle},selectTimeItem:function(e){this.taggle=!1,this.cleanTimeContent=e.target.innerHTML,this.cleanTime=e.target.dataset.index,i.setting("clean_time",this.cleanTime),i.set(),this.cleaningStatus()},immediatelyClean:function(){var e=this;if(this.cleanOnclick){this.cleanOnclick=!1,this.cleaning=!0,this.cleanText="cleaningup";var t=function(e){var t;"Last Hour"==e?t=36e5:"Last Day"==e?t=864e5:"Last Week"==e?t=6048e5:"Last Month"==e?t=2592e6:"Everything"==e&&(t=(new Date).getTime());return t}(this.cleanTime),n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=e[n].isClean;return t}(this.cleanContent),i=(new Date).getTime()-t;chrome.browsingData.remove({since:i},n,function(){setTimeout(function(){e.cleanimgRotate=!1,e.cleanText="CleanUpCompleted",e.cleanImg="icon-clean-completed.svg"},2e3)})}},selectClearDate:function(e){if("all"===e)for(var t=0;t<this.cleanContent.length;t++)this.cleanContent[t].isClean=!0;else if("no"===e)for(t=0;t<this.cleanContent.length;t++)this.cleanContent[t].isClean=!1;else if("recommend"===e)for(t=0;t<this.cleanContent.length;t++){var n=-1!==["cache","downloads","history"].indexOf(this.cleanContent[t].name);this.cleanContent[t].isClean=!!n}i.set()},cleaningStatus:function(){var e=this;this.cleanOnclick||(this.cleanOnclick=!0,this.cleaning=!1,this.cleanText="clean",setTimeout(function(){e.cleanImg="icon-cleaning.svg",e.cleanimgRotate=!0},500))}}})}();