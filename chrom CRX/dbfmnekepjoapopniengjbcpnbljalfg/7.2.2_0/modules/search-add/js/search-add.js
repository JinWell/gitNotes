"use strict";var moreSearch={name:"google",seId:"a22dcc25c75de3f58cb518e32c576865",logo:infinity.static+"/search-logos/google.png",desc:"google_desc",types:[{name:"web",url:"https://www.google.com/search?q=%s&ie=UTF-8"},{name:"images",url:"https://www.google.com/search?isource=infinity&iname=google&tbm=isch&q=%s"},{name:"news",url:"https://www.google.com/search?isource=infinity&iname=google&tbm=nws&q=%s"},{name:"videos",url:"https://www.google.com/search?isource=infinity&iname=google&tbm=vid&q=%s"},{name:"maps",url:"https://www.google.com/maps/preview?isource=infinity&iname=google&q=%s"}]},otherSearches=[{name:"YandexRU",seId:"ff1ca8c4e6661d52440b7f2e15cb6a13",logo:infinity.static+"/search-logos/russia-yandex.png",types:[{name:"web",url:"https://yandex.ru/search/?clid=2324058&isource=infinity&itype=web&iname=yandex&text=%s"},{name:"images",url:"https://yandex.ru/images/search?clid=2324058&isource=infinity&itype=images&iname=yandex&text=%s"},{name:"news",url:"https://news.yandex.ru/yandsearch?clid=2324058&rpt=nnews2&isource=infinity&itype=news&iname=yandex&text=%s"},{name:"videos",url:"https://yandex.ru/video/search?clid=2324058&isource=infinity&itype=videos&iname=yandex&text=%s"}]},{name:"Duckduckgo",seId:"569cd6fb4f6502b918db8b30ec235384",logo:infinity.static+"/search-logos/duckduckgo.png",types:[{name:"web",url:"https://duckduckgo.com/?isource=infinity&iname=duckduckgo&itype=web&q=%s"},{name:"images",url:"https://duckduckgo.com/?isource=infinity&iname=duckduckgo&t=h_&dbexp=a&iax=1&ia=images&q=%s"},{name:"news",url:"https://duckduckgo.com/?isource=infinity&iname=duckduckgo&t=h_&dbexp=a&ia=news&q=%s"},{name:"videos",url:"https://duckduckgo.com/?isource=infinity&iname=duckduckgo&t=h_&iax=1&ia=videos&q=%s"}]},{name:"search360",seId:"70adaba7374f6089aca0374dea85df00",logo:infinity.static+"/search-logos/360.png",types:[{name:"web",url:"https://www.so.com/s?src=lm&ls=sm2054017&lm_extend=ctype:4&q=%s"},{name:"images",url:"https://image.so.com/i?isource=infinity&iname=360&src=infinitynewtab&q=%s"},{name:"news",url:"http://news.so.com/ns?isource=infinity&iname=360&src=infinitynewtab&q=%s"},{name:"videos",url:"http://video.so.com/v?isource=infinity&iname=360&src=infinitynewtab&q=%s"}]},{name:"sogou",seId:"a3e908082e31a92396970f8b58583863",logo:infinity.static+"/search-logos/sougou.png",types:[{name:"web",url:"https://www.sogou.com/sogou?isource=infinity&iname=sogou&itype=web&pid=sogou-site-7985672db979303a&query=%s"},{name:"images",url:"https://pic.sogou.com/pics?isource=infinity&iname=sogou&ie=utf8&query=%s"},{name:"news",url:"http://news.sogou.com/news?isource=infinity&iname=sogou&ie=utf8&query=%s"},{name:"videos",url:"http://v.sogou.com/v?isource=infinity&iname=sogou&ie=utf8&query=%s"},{name:"weixin",url:"http://weixin.sogou.com/weixin?isource=infinity&iname=sogou&type=2&ie=utf8&query=%s"}]},{name:"NAVER",seId:"061712eb572a4669fc50cfb6211e6146",logo:infinity.static+"/search-logos/naver.png",types:[{name:"web",url:"https://search.naver.com/search.naver?where=nexearch&sm=top_hty&fbm=1&ie=utf8&query=%s"},{name:"images",url:"https://search.naver.com/search.naver?where=image&sm=tab_jum&query=%s"},{name:"news",url:"https://search.naver.com/search.naver?where=news&sm=tab_jum&query=%s"},{name:"videos",url:"https://search.naver.com/search.naver?where=video&sm=tab_jum&query=%s"}]},moreSearch];infinity.modules["search-add-search-add"]=function(){return new Vue({el:"#v-search-add",data:{isShowForm:!1,searches:[],searchName:"",searchUrl:"",isDisabledSubmit:!1,currentEditItem:-1,isShowSaveBtn:!1,otherSearches:otherSearches,moreSearch:moreSearch,isShowMore:!1,logoSuffix:"Chrome"==infinity.browser?"?imageView2/0/format/webp/q/48/v/1":"?imageView2/0/format/png/q/48/v/1"},created:function(){var e=this;e.initData(),e.initOtherEnable(),infinity.onMessage("onRecoverySetView",function(){e.initData()}),infinity.onMessage("searchAddChange",function(){e.initData()})},methods:{initData:function(){this.searches=infinity.get("infinity-searches")},close:function(){iView.hideSideBar()},showForm:function(){var e=this;e.isShowSaveBtn=!1,e.isDisabledSubmit=!1,e.searchName="",e.searchUrl="",e.isShowForm=!0,e.$nextTick(function(){e.$refs.searchName.focus()})},initOtherEnable:function(){var i=this.searches.all.map(function(e){return e.seId});this.otherSearches.map(function(e){0<=i.indexOf(e.seId)?e.enabled=!0:e.enabled=!1}),0<=i.indexOf(moreSearch.seId)?moreSearch.enabled=!0:moreSearch.enabled=!1},showMore:function(){this.isShowMore=!0},hideForm:function(){this.isShowForm=!1},onsubmit:function(e){e.preventDefault()},deleteIt:function(e){var i=this,s=i.searches.additions.indexOf(e);i.searches.additions.splice(s,1),infinity.set("infinity-searches",i.searches),infinity.sendMessage("searchAddChange"),Search.initData()},upIt:function(e){var i=this,s=i.searches.additions.indexOf(e),n=i.searches.additions.splice(s,1);i.searches.additions.splice(s-1,0,n[0]),infinity.set("infinity-searches",i.searches),infinity.sendMessage("searchAddChange"),Search.initData()},edit:function(e){var i=this;i.showForm(),i.isShowSaveBtn=!0,i.searchName=e.name,i.searchUrl=e.url,i.currentEditItem=i.searches.additions.indexOf(e)},save:function(){var e=this;if(""!=e.searchName&&""!=e.searchUrl){if(!e.checkSearchUrl(e.searchUrl))return!1;e.isDisabledSubmit=!0;var i={type:"addse",name:e.searchName,url:e.searchUrl};e.searches.additions[e.currentEditItem]=i,infinity.set("infinity-searches",e.searches),e.hideForm(),infinity.sendMessage("searchAddChange"),Search.initData()}},add:function(){var e=this;if(""!=e.searchName&&""!=e.searchUrl){if(!e.checkSearchUrl(e.searchUrl))return!1;e.isDisabledSubmit=!0;var i={type:"addse",name:e.searchName,url:e.searchUrl};e.searches.additions.push(i),infinity.set("infinity-searches",e.searches),e.hideForm(),infinity.sendMessage("searchAddChange"),Search.initData()}},errorUrlNoti:function(){infinity.alert({html:infinity.i18n("please_input_correct_search_url"),autoCloseTime:1.5})},checkSearchUrl:function(e){var i=this;if(e.indexOf("%s")<0||0!=e.indexOf("http://")&&0!=e.indexOf("https://"))return i.errorUrlNoti(),!1;try{new URL(e).origin;return!0}catch(e){return i.errorUrlNoti(),!1}},parseUrl:function(e){try{return new URL(e).origin}catch(e){return!1}},enabledOrnot:function(e){var i=this;if(e.enabled)i.searches.all.push(e);else{var s=i.searches.all.map(function(e){return e.seId}).indexOf(e.seId);i.searches.all.splice(s,1)}infinity.set("infinity-searches",i.searches),Search.initData()}}})};